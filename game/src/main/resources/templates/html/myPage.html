<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>EndGam - Gaming Magazine Template</title>
  <meta charset="UTF-8">
  <meta name="description" content="EndGam Gaming Magazine Template">
  <meta name="keywords" content="endGam,gGaming, magazine, html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Favicon -->
  <link href="/img/favicon.ico" rel="shortcut icon"/>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i,900,900i" rel="stylesheet">


  <!-- Stylesheets -->
  <link rel="stylesheet" href="/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="/css/font-awesome.min.css"/>
  <link rel="stylesheet" href="/css/slicknav.min.css"/>
  <link rel="stylesheet" href="/css/owl.carousel.min.css"/>
  <link rel="stylesheet" href="/css/magnific-popup.css"/>
  <link rel="stylesheet" href="/css/animate.css"/>

  <!-- Main Stylesheets -->
  <link rel="stylesheet" href="/css/style.css"/>


  <!--[if lt IE 9]>
  <script src="/https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="/https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <style>
    .hidden { display: none; }
  </style>
</head>
<body style="background-color: #48265b">
<!-- Page Preloder -->
<div id="preloder">
  <div class="loader"></div>
</div>

<!-- Header section -->
<header class="header-section">
  <div class="header-warp">
    <div class="header-social d-flex justify-content-end">
      <p>Follow us:</p>
      <a href="#"><i class="fa fa-pinterest"></i></a>
      <a href="#"><i class="fa fa-facebook"></i></a>
      <a href="#"><i class="fa fa-twitter"></i></a>
      <a href="#"><i class="fa fa-dribbble"></i></a>
      <a href="#"><i class="fa fa-behance"></i></a>
    </div>
    <div class="header-bar-warp d-flex">
      <!-- site logo -->
      <a href="/" class="site-logo">
        <img src="/img/logo.png" alt="Logo">
      </a>
      <nav class="top-nav-area w-100">
        <div class="user-panel">
          <div class="auth" th:if="${isLogin}">
            <a href="/mypage">마이페이지</a> /
            <a href="/member/logout">로그아웃</a>
            <span th:if="${isAdmin != null and isAdmin}"><a href="/admin">관리자 페이지</a></span>
          </div>
          <div class="auth" th:if="${!isLogin}">
            <a href="#" id="login-btn">로그인</a> / <a href="/member/signup">회원가입</a>
          </div>
        </div>

        <div class="modal-overlay" id="modal-overlay" th:if="${!isLogin}"></div>

        <div class="modal" id="login-modal" th:if="${!isLogin}">
          <h2>로그인</h2>
          <form action="/member/login" method="post">
            <label for="login-email">이메일:</label>
            <input type="email" id="login-email" name="memberEmail" required>
            <label for="login-password">비밀번호:</label>
            <input type="password" id="login-password" name="memberPassword" required>
            <button type="submit">로그인</button>
          </form>
          <button id="close-login-modal">닫기</button>
        </div>
        <!-- Menu -->
        <ul class="main-menu primary-menu">
          <li><a href="/">홈</a></li>
          <li><a href="/search/lol">전적 검색</a>
            <ul class="sub-menu">
              <li><a href="/search/lol">리그오브레전드</a></li>
              <li><a href="/search/pubg">배틀그라운드</a></li>
              <li><a href="/search/cyphers">사이퍼즈</a></li>
            </ul>
          </li>
          <li><a href="/review">투표 / 게임 랭킹</a>
            <ul class="sub-menu">
              <li><a href="/review">게임 랭킹</a>
              <li><a href="/vote">투표</a></li>
            </ul>
          </li>
          <li><a href="/board/boardlist">자유게시판</a></li>
          <li><a href="/notice">공지사항</a></li>
        </ul>
      </nav>
    </div>
  </div>
</header>
<!-- Header section end -->
<!-- Page top section -->
<section class="page-top-section" style="background-image: url('/img/page-top-bg/1.jpg');">
  <div class="page-info">
    <h2>게임랭킹</h2>
    <div class="site-breadcrumb">
      <a href="/">홈</a>  /
      <span>마이페이지</span>
    </div>
  </div>
</section>
<!-- Page top end-->

<div class="profile">
  <div class="profile-header">
    <div class="profile-info">
      <!-- 회원 정보 표시 -->
      <p class="profile-detail"><strong>이름:</strong> <span th:text="${memberName}">회원 이름</span></p>
      <p class="profile-detail"><strong>이메일:</strong> <span th:text="${memberEmail}">이메일</span></p>
      <p class="profile-detail"><strong>닉네임:</strong> <span th:text="${memberNickname}">닉네임</span></p>
    </div>
  </div>
  <div class="edit-icon" id="edit-profile-btn">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M6 9l6 6 6-6"></path>
    </svg>
  </div>

  <div class="profile-edit-form" id="profile-edit-form" style="display: none;">
    <form action="/profile/change" method="post">
      <div class="detail-item">
        <label class="detail-title" for="nickname">닉네임 변경</label>
        <input class="detail-value" id="nickname" name="memberNickname" type="text" th:value="${memberNickname}" placeholder="닉네임">
      </div>
      <div class="detail-item">
        <label class="detail-title" for="memberPassword">비밀번호 변경</label>
        <input class="detail-value" id="memberPassword" name="memberPassword" type="password" th:value="${memberPassword}" placeholder="비밀번호 변경">
      </div>
      <button class="save-button" type="submit">변경사항 저장</button>
    </form>
    <form action="/profile/delete" method="post" class="delete-form">
      <button class="delete-button" type="submit">탈퇴</button>
    </form>
  </div>
</div>


<div class="profile-page mx-auto px-4 py-8 sm:px-6 lg:px-8">
  <h2 class="text-2xl font-bold mb-4">My Posts</h2>
  <div class="space-y-4" th:each="post : ${posts}">
    <div class="bg-white rounded-lg shadow p-4">
      <div class="flex justify-between items-center mb-2">
        <h3 class="text-lg font-medium" th:text="${post.title}">Awesome Game Review</h3>
        <span class="text-sm text-gray-500" th:text="${post.date}">2023-04-15</span>
      </div>
      <p class="text-gray-600" th:text="${post.content}">Check out my in-depth review of the latest game release. You won't want to miss this!</p>
    </div>
  </div>
</div>

<div class="profile-page mx-auto px-4 py-8 sm:px-6 lg:px-8">
  <h2 class="text-2xl font-bold mb-4">투표한 게임 리스트</h2>
  <div class="votes-container" id="votes-container">
    <div class="vote-item" th:each="vote, iterStat : ${votes}" th:classappend="${iterStat.index >= 15} ? 'hidden' : ''">
      <div class="bg-white rounded-lg shadow p-4">
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-lg font-medium" th:text="${vote.gameName}">Retro Arcade Comeback</h3>
          <span class="text-sm text-gray-500" th:text="${vote.voteTime}">2023-05-01</span>
        </div>
      </div>
    </div>
  </div>
  <div class="load-more-icon" id="load-more-button">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M6 9l6 6 6-6"></path>
    </svg>
  </div>
</div>




<!-- Footer section -->
<footer class="footer-section">
  <div class="container">
    <div class="footer-left-pic">
      <img src="/img/footer-left-pic.png" alt="">
    </div>
    <div class="footer-right-pic">
      <img src="/img/footer-right-pic.png" alt="">
    </div>
    <a href="/" class="footer-logo">
      <img src="/img/logo.png" alt="">
    </a>
    <ul class="main-menu footer-menu">
      <li><a href="/">홈</a></li>
      <li><a href="/search/lol">전적 검색</a></li>
      <li><a href="/review">게임 랭킹</a></li>
      <li><a href="/board/boardList">자유게시판</a></li>
      <li><a href="/notice">공지사항</a></li>
    </ul>
    <div class="footer-social d-flex justify-content-center">
      <a href="#"><i class="fa fa-pinterest"></i></a>
      <a href="#"><i class="fa fa-facebook"></i></a>
      <a href="#"><i class="fa fa-twitter"></i></a>
      <a href="#"><i class="fa fa-dribbble"></i></a>
      <a href="#"><i class="fa fa-behance"></i></a>
    </div>
    <div class="copyright"><a href="">Colorlib</a> 2018 @ All rights reserved</div>
  </div>
</footer>
<!-- Footer section end -->


<!--====== Javascripts & Jquery ======-->
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.slicknav.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/jquery.sticky-sidebar.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/main.js"></script>
<script>
  document.getElementById('edit-profile-btn').addEventListener('click', function() {
    var form = document.getElementById('profile-edit-form');
    if (form.style.display === 'none') {
      form.style.display = 'block';
    } else {
      form.style.display = 'none';
    }
  });

  document.getElementById('load-more-button').addEventListener('click', function() {
    var button = document.getElementById('load-more-button');
    var hiddenVotes = document.querySelectorAll('.vote-item.hidden');
    var visibleVotes = document.querySelectorAll('.vote-item:not(.hidden)');
    var totalVotes = document.querySelectorAll('.vote-item').length;

    if (button.classList.contains('expanded')) {
      // 접기
      for (var i = 0; i < visibleVotes.length; i++) {
        if (i >= 15) {
          visibleVotes[i].classList.add('hidden');
        }
      }
      button.classList.remove('expanded');
      button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"></path></svg>';
    } else {
      // 더 보기
      for (var i = 0; i < 15 && i < hiddenVotes.length; i++) {
        hiddenVotes[i].classList.remove('hidden');
      }
      if (visibleVotes.length + hiddenVotes.length <= 15) {
        button.style.display = 'none';
      } else {
        button.classList.add('expanded');
        button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"></path></svg>';
      }
    }
  });
</script>
</body>
</html>