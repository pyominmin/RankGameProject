<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>EndGam - Gaming Magazine Template</title>
	<meta charset="UTF-8">
	<meta name="description" content="EndGam Gaming Magazine Template">
	<meta name="keywords" content="endGam,gGaming, magazine, html">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Favicon -->
	<link href="/img/favicon.ico" rel="shortcut icon"/>

	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i,900,900i" rel="stylesheet">

	<!-- Stylesheets -->
	<link rel="stylesheet" href="/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="/css/font-awesome.min.css"/>
	<link rel="stylesheet" href="/css/slicknav.min.css"/>
	<link rel="stylesheet" href="/css/owl.carousel.min.css"/>
	<link rel="stylesheet" href="/css/magnific-popup.css"/>
	<link rel="stylesheet" href="/css/animate.css"/>

	<!-- Main Stylesheets -->
	<link rel="stylesheet" href="/css/style.css"/>

	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>
<!-- Page Preloader -->
<div id="preloder">
	<div class="loader"></div>
</div>

<!-- Header section -->
<header class="header-section">
	<div class="header-warp">
		<div class="header-social d-flex justify-content-end">
			<p>Follow us:</p>
			<a href="#"><i class="fa fa-pinterest"></i></a>
			<a href="#"><i class="fa fa-facebook"></i></a>
			<a href="#"><i class="fa fa-twitter"></i></a>
			<a href="#"><i class="fa fa-dribbble"></i></a>
			<a href="#"><i class="fa fa-behance"></i></a>
		</div>
		<div class="header-bar-warp d-flex">
			<!-- site logo -->
			<a href="/" class="site-logo">
				<img src="/img/logo.png" alt="Logo">
			</a>
			<nav class="top-nav-area w-100">
				<div class="user-panel">
					<div class="auth" th:if="${isLogin}">
						<a href="/mypage">마이페이지</a> /
						<a href="/member/logout">로그아웃</a>
						<span th:if="${isAdmin != null and isAdmin}"><a href="/admin">관리자 페이지</a></span>
					</div>
					<div class="auth" th:if="${!isLogin}">
						<a href="#" id="login-btn">로그인</a> / <a href="/member/signup">회원가입</a>
					</div>
				</div>

				<div class="modal-overlay" id="modal-overlay" th:if="${!isLogin}"></div>

				<div class="modal" id="login-modal" th:if="${!isLogin}">
					<h2>로그인</h2>
					<form action="/member/login" method="post">
						<label for="login-email">이메일:</label>
						<input type="email" id="login-email" name="memberEmail" required>
						<label for="login-password">비밀번호:</label>
						<input type="password" id="login-password" name="memberPassword" required>
						<button type="submit">로그인</button>
					</form>
					<button id="close-login-modal">닫기</button>
				</div>
				<!-- Menu -->
				<ul class="main-menu primary-menu">
					<li><a href="/">홈</a></li>
					<li><a href="/search/lol">전적 검색</a>
						<ul class="sub-menu">
							<li><a href="/search/lol">리그오브레전드</a></li>
							<li><a href="/search/pubg">배틀그라운드</a></li>
							<li><a href="/search/cyphers">사이퍼즈</a></li>
						</ul>
					</li>
					<li><a href="/review">투표 / 게임 랭킹</a>
						<ul class="sub-menu">
							<li><a href="/review">게임 랭킹</a>
							<li><a href="/vote">투표</a></li>
						</ul>
					</li>
					<li><a href="/board/boardlist">자유게시판</a></li>
					<li><a href="/notice">공지사항</a></li>
				</ul>
			</nav>
		</div>
	</div>
</header>
<!-- Header section end -->

<!-- Page top section -->
<section class="page-top-section" style="background-image: url('/img/page-top-bg/1.jpg');">
	<div class="page-info">
		<h2>전적 검색</h2>
		<div class="site-breadcrumb">
			<a href="#">홈</a> /
			<span>리그오브레전드</span>
		</div>
	</div>
</section>
<!-- Page top end-->

<form th:action="@{/search/member}" th:method="post">
	<!-- 프로필, 티어-->
	<div class="profile-container">
		<!-- 프로필 정보 -->
		<div class="profile-info">
			<img id="profile-icon" src="/img/tier/포로.jpg" alt="프로필 아이콘">
			<div class="profile-details">
				<h2 th:text="${gameName} + ' #' + ${tagLine}">Hide on bush #KR1</h2>
			</div>
		</div>

		<!-- 티어 이미지 -->
		<div class="tier-info">
			<img id="tier-icon" src="/img/tier/Emblem_Unranked.png" alt="티어 아이콘">
		</div>
	</div>
	<div class="record-container">
		<!-- 반복문 시작 -->
		<div th:each="match : ${matches}" th:classappend="${match.win != null && match.win ? 'Game--Result-WIN' : 'Game--Result-LOSS'}">
			<div class="contents">
				<div class="inner">
					<div class="css-1mk3mai ezr8g462">
						<div class="head-group">
							<div class="game-type">솔랭</div>
							<div class="time-stamp">
								<div th:text="${match.dateHeader}" style="position: relative;">2일 전</div>
							</div>
						</div>
						<div class="divider"></div>
						<div class="head-group">
							<div class="result" th:text="${match.win != null && match.win ? '승리' : '패배'}">승리</div>
							<div class="length" th:text="${match.timePlayed / 60} + '분 ' + ${match.timePlayed % 60} + '초'">30분 17초</div>
						</div>
					</div>
					<div class="css-e10jb3 ezr8g463">
						<div class="main">
							<div class="info">
								<a target="_blank" rel="noreferrer" class="champion"
								   th:href="@{https://www.op.gg/champions/{champion}/build(champion=${match.championName})}"
								   th:text="${match.championName}">챔피언 이름</a>
							</div>
						</div>
						<div class="game-tags__scroll-container">
							<div class="game-tags">
								<div class="OPScoreBadge css-1mkftr3 e10be1gk0">
									<div class="badge noHover mvp">MVP</div>
								</div>
								<div class="OPScoreBadge css-1mkftr3 e10be1gk0">
									<div class="tooltip__border-radius" style="position: relative;">
										<div class="badge excellent">1인분 이상</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="divider-line"></div>
		</div>
		<!-- 반복문 끝 -->
	</div>
</form>

<!-- Footer section -->
<footer class="footer-section">
	<div class="container">
		<div class="footer-left-pic">
			<img src="/img/footer-left-pic.png" alt="">
		</div>
		<div class="footer-right-pic">
			<img src="/img/footer-right-pic.png" alt="">
		</div>
		<a href="/" class="footer-logo">
			<img src="/img/logo.png" alt="">
		</a>
		<ul class="main-menu footer-menu">
			<li><a href="/">홈</a></li>
			<li><a href="/search/lol">전적 검색</a></li>
			<li><a href="/review">게임 랭킹</a></li>
			<li><a href="/board/boardList">자유게시판</a></li>
			<li><a href="/notice">공지사항</a></li>
		</ul>
		<div class="footer-social d-flex justify-content-center">
			<a href="#"><i class="fa fa-pinterest"></i></a>
			<a href="#"><i class="fa fa-facebook"></i></a>
			<a href="#"><i class="fa fa-twitter"></i></a>
			<a href="#"><i class="fa fa-dribbble"></i></a>
			<a href="#"><i class="fa fa-behance"></i></a>
		</div>
		<div class="copyright"><a href="">Colorlib</a> 2018 @ All rights reserved</div>
	</div>
</footer>
<!-- Footer section end -->

<!--====== Javascripts & Jquery ======-->
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.slicknav.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/jquery.sticky-sidebar.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/main.js"></script>
<script>
	document.addEventListener('DOMContentLoaded', function () {
        const tierIcon = document.getElementById('tier-icon');
        const tier = '[[${tier}]]'; // 컨트롤러에서 전달된 tier 정보를 사용합니다.

        console.log("현재 티어:", tier); // 콘솔에 티어 정보 출력

        // 티어별 이미지 경로 설정
        const tierImages = {
            "IRON": "/img/tier/Emblem_Iron.png",
            "BRONZE": "/img/tier/Emblem_Bronze.png",
            "SILVER": "/img/tier/Emblem_Silver.png",
            "GOLD": "/img/tier/Emblem_Gold.png",
            "PLATINUM": "/img/tier/Emblem_Platinum.png",
            "DIAMOND": "/img/tier/Emblem_Diamond.png",
            "MASTER": "/img/tier/Emblem_Master.png",
            "GRANDMASTER": "/img/tier/Emblem_Grandmaster.png",
            "CHALLENGER": "/img/tier/Emblem_Challenger.png",
            "UNRANKED": "/img/tier/Emblem_Unranked.png"
        };

        // 티어에 맞는 이미지로 변경
        if (tierImages[tier]) {
            tierIcon.src = tierImages[tier];
        } else {
            tierIcon.src = tierImages["UNRANKED"];
            console.log("해당 티어의 이미지를 찾을 수 없습니다. Unranked 이미지로 설정합니다.");
        }
    });
</script>
</body>
</html>
